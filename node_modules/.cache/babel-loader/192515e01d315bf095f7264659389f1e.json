{"ast":null,"code":"import _defineProperty from \"/home/zhana/Desktop/school-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _objectWithoutProperties from \"/home/zhana/Desktop/school-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/home/zhana/Desktop/school-app/src/react-forms.js/components/Form.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport FormContext from '../contexts/form';\nimport useForm from '../hooks/useForm';\nimport useValidator from '../hooks/useValidator';\n\nconst Form = (_ref) => {\n  let onSubmit = _ref.onSubmit,\n      setValidator = _ref.setValidator,\n      errorClass = _ref.errorClass,\n      rest = _objectWithoutProperties(_ref, [\"onSubmit\", \"setValidator\", \"errorClass\"]);\n\n  const _useForm = useForm(),\n        setNodeRef = _useForm.setNodeRef,\n        getNodeRefs = _useForm.getNodeRefs,\n        getNodeRefsData = _useForm.getNodeRefsData,\n        setSubmitted = _useForm.setSubmitted,\n        getSubmitted = _useForm.getSubmitted;\n\n  const _useValidator = useValidator(getNodeRefs, getSubmitted, setValidator, errorClass),\n        listenChange = _useValidator.listenChange,\n        validate = _useValidator.validate;\n\n  const listenSubmit = e => {\n    const submitted = true;\n    setSubmitted(submitted);\n    const validator = validate();\n    setValidator(_objectSpread({}, validator, {\n      submitted\n    }));\n    return onSubmit(e, getNodeRefsData(), validator);\n  };\n\n  return React.createElement(FormContext.Provider, {\n    value: {\n      setNodeRef,\n      listenChange\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32\n    },\n    __self: this\n  }, React.createElement(\"form\", Object.assign({}, rest, {\n    onSubmit: listenSubmit,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33\n    },\n    __self: this\n  })));\n};\n\nexport default Form;","map":{"version":3,"sources":["/home/zhana/Desktop/school-app/src/react-forms.js/components/Form.js"],"names":["React","FormContext","useForm","useValidator","Form","onSubmit","setValidator","errorClass","rest","setNodeRef","getNodeRefs","getNodeRefsData","setSubmitted","getSubmitted","listenChange","validate","listenSubmit","e","submitted","validator"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AAEA,OAAOC,WAAP,MAAwB,kBAAxB;AACA,OAAOC,OAAP,MAAoB,kBAApB;AACA,OAAOC,YAAP,MAAyB,uBAAzB;;AAEA,MAAMC,IAAI,GAAG,UAAqD;AAAA,MAAlDC,QAAkD,QAAlDA,QAAkD;AAAA,MAAxCC,YAAwC,QAAxCA,YAAwC;AAAA,MAA1BC,UAA0B,QAA1BA,UAA0B;AAAA,MAAXC,IAAW;;AAAA,mBAO5DN,OAAO,EAPqD;AAAA,QAE9DO,UAF8D,YAE9DA,UAF8D;AAAA,QAG9DC,WAH8D,YAG9DA,WAH8D;AAAA,QAI9DC,eAJ8D,YAI9DA,eAJ8D;AAAA,QAK9DC,YAL8D,YAK9DA,YAL8D;AAAA,QAM9DC,YAN8D,YAM9DA,YAN8D;;AAAA,wBAS7BV,YAAY,CAC7CO,WAD6C,EAE7CG,YAF6C,EAG7CP,YAH6C,EAI7CC,UAJ6C,CATiB;AAAA,QASxDO,YATwD,iBASxDA,YATwD;AAAA,QAS1CC,QAT0C,iBAS1CA,QAT0C;;AAgBhE,QAAMC,YAAY,GAAGC,CAAC,IAAI;AACxB,UAAMC,SAAS,GAAG,IAAlB;AACAN,IAAAA,YAAY,CAACM,SAAD,CAAZ;AACA,UAAMC,SAAS,GAAGJ,QAAQ,EAA1B;AACAT,IAAAA,YAAY,mBAAMa,SAAN;AAAiBD,MAAAA;AAAjB,OAAZ;AACA,WAAOb,QAAQ,CAACY,CAAD,EAAIN,eAAe,EAAnB,EAAuBQ,SAAvB,CAAf;AACD,GAND;;AAQA,SACE,oBAAC,WAAD,CAAa,QAAb;AAAsB,IAAA,KAAK,EAAE;AAAEV,MAAAA,UAAF;AAAcK,MAAAA;AAAd,KAA7B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACE,8CAAUN,IAAV;AAAgB,IAAA,QAAQ,EAAEQ,YAA1B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KADF,CADF;AAKD,CA7BD;;AA+BA,eAAeZ,IAAf","sourcesContent":["import React from 'react'\n\nimport FormContext from '../contexts/form'\nimport useForm from '../hooks/useForm'\nimport useValidator from '../hooks/useValidator'\n\nconst Form = ({ onSubmit, setValidator, errorClass, ...rest }) => {\n  const {\n    setNodeRef,\n    getNodeRefs,\n    getNodeRefsData,\n    setSubmitted,\n    getSubmitted\n  } = useForm()\n\n  const { listenChange, validate } = useValidator(\n    getNodeRefs,\n    getSubmitted,\n    setValidator,\n    errorClass\n  )\n\n  const listenSubmit = e => {\n    const submitted = true\n    setSubmitted(submitted)\n    const validator = validate()\n    setValidator({ ...validator, submitted })\n    return onSubmit(e, getNodeRefsData(), validator)\n  }\n\n  return (\n    <FormContext.Provider value={{ setNodeRef, listenChange }}>\n      <form {...rest} onSubmit={listenSubmit} />\n    </FormContext.Provider>\n  )\n}\n\nexport default Form\n"]},"metadata":{},"sourceType":"module"}