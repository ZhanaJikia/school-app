{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Msi Apache\\\\Desktop\\\\school-app\\\\src\\\\components\\\\app\\\\app.js\";\nimport React from \"react\";\nimport ValidatedSchoolForm from '../schoolForm/validatedSchoolForm';\nimport SchoolTable from '../schoolTable/schoolTable';\nimport '../studentsTable/studentTable';\nimport \"./app.css\";\nconst globalData = [{\n  id: 1,\n  schoolName: \"№34\",\n  address: \"Chavchavadze 23\",\n  students: [{\n    fullName: \"Megi Jikia\",\n    email: \"megijikia@gmail.com\",\n    age: 17\n  }, {\n    fullName: \"Genji Genji\",\n    email: \"genjigenji@gmail.com\",\n    age: 18\n  }]\n}, {\n  id: 2,\n  schoolName: \"№98\",\n  address: \"Vazha 8\",\n  students: [{\n    fullName: \"Davit Bokhua\",\n    email: \"davitbokhua@gmail.com\",\n    age: 18\n  }, {\n    fullName: \"Vato Vatexa\",\n    email: \"vatovatexa@gmail.com\",\n    age: 17\n  }]\n}, {\n  id: 3,\n  schoolName: \"№108\",\n  address: \"Tsereteli 3\",\n  students: [{\n    fullName: \"Elene Kvaratskhelia\",\n    email: \"eleneKvaratskhelia@gmail.com\",\n    age: 18\n  }, {\n    fullName: \"Zhana Jikia\",\n    email: \"zhanajikia@gmail.com\",\n    age: 17\n  }]\n}];\nexport default class App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      schools: globalData,\n      currentStudents: []\n    };\n\n    this.callbackFunction = childData => {\n      this.setState({\n        schools: [childData, ...this.state.schools]\n      });\n    };\n\n    this.setStudents = (student, id) => {\n      this.setState(({\n        schools\n      }) => {\n        const newSchools = schools;\n        const found = newSchools.find(item => item.id === id);\n        found.students = [...found.students, student];\n        return {\n          schools: newSchools,\n          currentStudents: found.students\n        };\n      });\n    };\n\n    this.setCurrentStudents = students => this.setState({\n      currentStudents: students\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"App\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67\n      },\n      __self: this\n    }, React.createElement(\"h1\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68\n      },\n      __self: this\n    }, \"Add New School\"), React.createElement(ValidatedSchoolForm, {\n      schools: this.state.schools,\n      handleAdd: this.callbackFunction,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69\n      },\n      __self: this\n    }), React.createElement(SchoolTable, {\n      schools: this.state.schools,\n      setStudents: this.setStudents,\n      students: this.state.students,\n      setCurrentStudents: this.setCurrentStudents,\n      currentStudents: this.state.currentStudents,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73\n      },\n      __self: this\n    }));\n  }\n\n}","map":{"version":3,"sources":["C:/Users/Msi Apache/Desktop/school-app/src/components/app/app.js"],"names":["React","ValidatedSchoolForm","SchoolTable","globalData","id","schoolName","address","students","fullName","email","age","App","Component","state","schools","currentStudents","callbackFunction","childData","setState","setStudents","student","newSchools","found","find","item","setCurrentStudents","render"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport ValidatedSchoolForm from '../schoolForm/validatedSchoolForm';\r\nimport SchoolTable from '../schoolTable/schoolTable';\r\nimport '../studentsTable/studentTable';\r\nimport \"./app.css\";\r\n\r\n\r\nconst globalData = [\r\n  {\r\n    id: 1,\r\n    schoolName: \"№34\",\r\n    address: \"Chavchavadze 23\",\r\n    students: [\r\n      { fullName: \"Megi Jikia\", email: \"megijikia@gmail.com\", age: 17 },\r\n      { fullName: \"Genji Genji\", email: \"genjigenji@gmail.com\", age: 18 },\r\n\r\n    ]\r\n  },\r\n  {\r\n    id: 2,\r\n    schoolName: \"№98\",\r\n    address: \"Vazha 8\",\r\n    students: [\r\n      { fullName: \"Davit Bokhua\", email: \"davitbokhua@gmail.com\", age: 18 },\r\n      { fullName: \"Vato Vatexa\", email: \"vatovatexa@gmail.com\", age: 17 },\r\n    ]\r\n  },\r\n  {\r\n    id: 3,\r\n    schoolName: \"№108\",\r\n    address: \"Tsereteli 3\",\r\n    students: [\r\n      { fullName: \"Elene Kvaratskhelia\", email: \"eleneKvaratskhelia@gmail.com\", age: 18 },\r\n      { fullName: \"Zhana Jikia\", email: \"zhanajikia@gmail.com\", age: 17 }\r\n    ]\r\n  }\r\n];\r\n\r\nexport default class App extends React.Component {\r\n  state = {\r\n    schools: globalData,\r\n    currentStudents: []\r\n  }\r\n\r\n  callbackFunction = (childData) => {\r\n    this.setState({schools: [childData, ...this.state.schools ]})\r\n  }\r\n\r\n  setStudents = (student, id) => {\r\n    this.setState(({ schools }) => {\r\n      const newSchools = schools\r\n      const found = newSchools.find(item => item.id === id)\r\n      found.students = [...found.students, student]\r\n      return ({\r\n        schools: newSchools,\r\n        currentStudents:  found.students\r\n      })\r\n    })\r\n  }\r\n\r\n  setCurrentStudents = (students) => (\r\n    this.setState({ currentStudents: students })\r\n  )\r\n\r\n  render(){\r\n    return (\r\n      <div className=\"App\">\r\n        <h1>Add New School</h1>\r\n        <ValidatedSchoolForm\r\n          schools={this.state.schools}\r\n          handleAdd={this.callbackFunction}\r\n        />\r\n        <SchoolTable\r\n          schools={this.state.schools}\r\n          setStudents={this.setStudents}\r\n          students={this.state.students}\r\n          setCurrentStudents={this.setCurrentStudents}\r\n          currentStudents={this.state.currentStudents}\r\n        />\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"]},"metadata":{},"sourceType":"module"}